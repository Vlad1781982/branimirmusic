# -*- coding: utf-8 -*-from django.db import modelsfrom djangular.views.crud import NgCRUDViewfrom slugify import slugify_urlfrom ckeditor.fields import RichTextFieldfrom django.contrib import adminclass News(models.Model):    title = models.CharField('Название новости', max_length=200)    content=RichTextField('Содержание новости')    created = models.DateTimeField(verbose_name='Создано',auto_now=True)    slug = models.SlugField(unique=True,primary_key=True)    def __unicode__(self):        return u'%s' %self.title    def save(self, *args, **kwargs):        if not self.slug:            self.slug = slugify_url(self.title, max_length=40)        return super(News, self).save(*args, **kwargs)    class Meta:        verbose_name= 'Новость'        verbose_name_plural = 'Новости'class NewsCRUDView(NgCRUDView):    model = Newsclass NewsAdmin(admin.ModelAdmin):    exclude = ('slug',)